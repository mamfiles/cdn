document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelectorAll(".view-btn"),e=document.querySelector(".overlay"),n=document.querySelectorAll(".popup"),o=document.querySelectorAll(".close-btn");let s,i,c,l=!1;function a(t){window.innerWidth<768?(t.style.top="auto",t.style.bottom="0",t.style.transform="translate(-50%, 0)"):n.forEach((t=>{t.style.top="50%",t.style.bottom="auto",t.style.transform="translate(-50%, -50%)"})),e.style.display="block",t.style.display="block",e.classList.add("show"),t.classList.add("show"),l=!0,document.body.style.overflow="hidden",s=t}function d(){e.classList.remove("show"),s.classList.remove("show"),window.innerWidth<768?(s.style.top=s.getBoundingClientRect().top+"px",s.classList.add("slide-out-animation"),setTimeout((function(){e.style.display="none",s.style.display="none",s.classList.remove("slide-out-animation")}),300)):setTimeout((function(){e.style.display="none",s.style.display="none"}),300),l=!1,document.body.style.overflow=""}function r(){window.innerWidth<768?n.forEach((t=>{t.style.top="auto",t.style.bottom="0",t.style.transform="translate(-50%, 0)"})):n.forEach((t=>{t.style.top="50%",t.style.bottom="auto",t.style.transform="translate(-50%, -50%)"}))}function u(){const t=window.location.pathname;history.replaceState({},document.title,t)}!function(){const t=new URLSearchParams(window.location.search).get("view");if(t){const e=document.getElementById(t);e&&a(e)}}(),t.forEach((t=>{t.addEventListener("click",(function(){const t=this.getAttribute("data-popup"),e=document.getElementById(t);e&&a(e)}))})),o.forEach((t=>{t.addEventListener("click",(function(){d(),u()}))})),e.addEventListener("click",(function(t){t.stopPropagation()})),window.addEventListener("resize",(function(){r()})),document.addEventListener("touchstart",(function(t){l&&(i=t.touches[0].clientY,c=parseInt(s.style.top)||s.getBoundingClientRect().top)})),document.addEventListener("touchmove",(function(t){if(!l)return;const e=t.touches[0].clientY-i,n=Math.max(c+e,c);s.style.top=n+"px"})),document.addEventListener("touchend",(function(t){if(!l)return;t.changedTouches[0].clientY-i>.2*window.innerHeight?(d(),u()):s.style.top=c+"px"})),r()}));