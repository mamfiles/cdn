document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelectorAll(".view-btn"),e=document.querySelector(".overlay"),n=document.querySelectorAll(".popup"),o=document.querySelectorAll(".close-btn");let i,a,s,d=!1;function c(t){window.innerWidth<768?(t.style.top="auto",t.style.bottom="0",t.style.transform="translate(-50%, 0)",t.classList.add("slide-in-animation"),e.classList.add("fade-in-animation")):(e.style.display="block",e.classList.add("fade-in-animation"),n.forEach((t=>{t.style.top="50%",t.style.bottom="auto",t.style.transform="translate(-50%, -50%)",t.classList.add("fade-in-animation")}))),e.style.display="block",t.style.display="block",e.classList.add("show"),t.classList.add("show"),d=!0,document.body.style.overflow="hidden",i=t}function l(){window.innerWidth<768?(i.style.top=i.getBoundingClientRect().top+"px",i.classList.add("slide-out-animation"),e.classList.add("fade-out-animation"),setTimeout((function(){e.style.display="none",i.style.display="none",i.classList.remove("slide-out-animation"),e.classList.remove("fade-out-animation")}),300)):(e.classList.add("fade-out-animation"),n.forEach((t=>{t.classList.add("fade-out-animation")})),setTimeout((function(){e.style.display="none",n.forEach((t=>{t.style.display="none"})),e.classList.remove("fade-out-animation"),n.forEach((t=>{t.classList.remove("fade-out-animation")}))}),300)),d=!1,document.body.style.overflow=""}function r(){window.innerWidth<768?n.forEach((t=>{t.style.top="auto",t.style.bottom="0",t.style.transform="translate(-50%, 0)"})):n.forEach((t=>{t.style.top="50%",t.style.bottom="auto",t.style.transform="translate(-50%, -50%)"}))}function u(){const t=window.location.pathname;history.replaceState({},document.title,t)}!function(){const t=new URLSearchParams(window.location.search).get("view");if(t){const e=document.getElementById(t);e&&c(e)}}(),t.forEach((t=>{t.addEventListener("click",(function(){const t=this.getAttribute("data-popup"),e=document.getElementById(t);e&&c(e)})),t.addEventListener("keydown",(function(t){if("Enter"===t.code||"Space"===t.code){const t=this.getAttribute("data-popup"),e=document.getElementById(t);e&&c(e)}}))})),o.forEach((t=>{t.addEventListener("click",(function(){l(),u()}))})),e.addEventListener("click",(function(t){t.stopPropagation()})),window.addEventListener("resize",(function(){r()})),window.addEventListener("click",(function(t){d&&t.target===e&&l()})),document.addEventListener("touchstart",(function(t){d&&(a=t.touches[0].clientY,s=parseInt(i.style.top)||i.getBoundingClientRect().top)})),document.addEventListener("touchmove",(function(t){if(!d)return;const e=t.touches[0].clientY-a,n=Math.max(s+e,s);i.style.top=n+"px"})),document.addEventListener("touchend",(function(t){if(!d)return;t.changedTouches[0].clientY-a>.2*window.innerHeight?(l(),u()):i.style.top=s+"px"})),r()}));
