document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelectorAll(".view-btn"),e=document.querySelector(".overlay"),n=document.querySelectorAll(".popup"),o=document.querySelectorAll(".close-btn");let s,i,a,d=!1;function c(t){d&&1===t.touches.length&&(i=t.touches[0].clientY,a=parseInt(s.style.top)||s.getBoundingClientRect().top)}function l(t){if(!d||1!==t.touches.length)return;const e=t.touches[0].clientY-i,n=Math.max(a+e,a);s.style.top=n+"px"}function r(t){if(!d)return;const e=t.changedTouches[0].clientY-i,n=window.innerHeight;e>.2*n?(m(),f()):(s.style.top=a+"px",e<0&&Math.abs(e)>.2*n*.5?(s.style.transition="",s.style.top=a+"px"):(s.style.transition="top 0.3s ease",setTimeout((function(){s.style.transition=""}),300)))}function u(t){window.innerWidth<768?(t.style.top="auto",t.style.bottom="0",t.style.transform="translate(-50%, 0)",t.classList.add("slide-in-animation"),e.classList.add("fade-in-animation")):(e.style.display="block",e.classList.add("fade-in-animation"),n.forEach((t=>{t.style.top="50%",t.style.bottom="auto",t.style.transform="translate(-50%, -50%)",t.classList.add("fade-in-animation")}))),e.style.display="block",t.style.display="block",e.classList.add("show"),t.classList.add("show"),d=!0,document.body.style.overflow="hidden",s=t}function m(){window.innerWidth<768?(s.style.top=s.getBoundingClientRect().top+"px",s.classList.add("slide-out-animation"),e.classList.add("fade-out-animation"),setTimeout((function(){e.style.display="none",s.style.display="none",s.classList.remove("slide-out-animation"),e.classList.remove("fade-out-animation")}),300)):(e.classList.add("fade-out-animation"),n.forEach((t=>{t.classList.add("fade-out-animation")})),setTimeout((function(){e.style.display="none",n.forEach((t=>{t.style.display="none"})),e.classList.remove("fade-out-animation"),n.forEach((t=>{t.classList.remove("fade-out-animation")}))}),300)),d=!1,document.body.style.overflow=""}function y(){window.innerWidth<768?n.forEach((t=>{t.style.top="auto",t.style.bottom="0",t.style.transform="translate(-50%, 0)"})):n.forEach((t=>{t.style.top="50%",t.style.bottom="auto",t.style.transform="translate(-50%, -50%)"}))}function f(){const t=window.location.pathname;history.replaceState({},document.title,t)}!function(){const t=new URLSearchParams(window.location.search).get("view");if(t){const e=document.getElementById(t);e&&u(e)}}(),t.forEach((t=>{t.addEventListener("click",(function(){const t=this.getAttribute("data-popup"),e=document.getElementById(t);e&&u(e)})),t.addEventListener("keydown",(function(t){if("Enter"===t.code||"Space"===t.code){const t=this.getAttribute("data-popup"),e=document.getElementById(t);e&&u(e)}}))})),o.forEach((t=>{t.addEventListener("click",(function(){m(),f()}))})),e.addEventListener("click",(function(t){t.stopPropagation()})),window.addEventListener("resize",(function(){y()})),window.addEventListener("click",(function(t){d&&t.target===e&&m()})),document.addEventListener("touchstart",c),e.addEventListener("touchstart",c),document.addEventListener("touchmove",l),e.addEventListener("touchmove",l),document.addEventListener("touchend",r),e.addEventListener("touchend",r),y()}));
