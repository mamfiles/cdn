"use strict";var s=Object.defineProperty,r=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,n=(e,t,n)=>(r(e,"symbol"!=typeof t?t+"":t,n),n);const ELEMENT_NAME="theme-switch",ICON_SIZE=12,ICON_COLOR="#fffff",THEME_KEY="theme",THEME_AUTO="auto",THEME_DARK="dark",THEME_LIGHT="light",THEME_VALUES=["auto","dark","light"],THEME_DEFAULT="auto",THEME_ATTRIBUTE="data-theme",COLOR_SCHEME_DARK="(prefers-color-scheme: dark)",CUSTOM_EVENT_NAME="themeToggle",ICON_INITIAL_STATE_FOR_AUTO=[10,0,33,0],ICON_INITIAL_STATE_FOR_DARK=[10,0,20,1],ICON_INITIAL_STATE_FOR_LIGHT=[5,1,33,1],a=class extends HTMLElement{constructor(){super(),n(this,"shadowRoot"),n(this,"identifier",a.counter++),this.shadowRoot=this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=generateIcon(...getInitialStateForIcon()),this.shadowRoot.host.addEventListener("click",this.onClick),document.addEventListener("themeToggle",(e=>{e.detail.originId!==this.identifier&&this.adaptToTheme()})),window.addEventListener("storage",(e=>{"theme"===e.key&&(this.adaptToTheme(),updateTheme())}));const e=document.createElement("style");e.textContent=generateStyle(),this.shadowRoot.append(e)}onClick(){const e=getUserThemeSelection();this.toggleTheme(e);const t=getUserThemeSelection(),n=this.createEvent(e,t);this.dispatchEvent(n)}createEvent(e,t){return new CustomEvent("themeToggle",{detail:{originId:this.identifier,oldState:e,newState:t},bubbles:!0,composed:!0,cancelable:!1})}toggleTheme(e){"auto"===e?(localStorage.setItem("theme","light"),this.animateThemeButtonIconToLight()):"dark"===e?(localStorage.setItem("theme","auto"),this.animateThemeButtonIconToAuto()):(localStorage.setItem("theme","dark"),this.animateThemeButtonIconToDark()),updateTheme()}adaptToTheme(){const e=getUserThemeSelection();"auto"===e?this.animateThemeButtonIconToAuto():"dark"===e?this.animateThemeButtonIconToDark():this.animateThemeButtonIconToLight()}animateThemeButtonIconToLight(){this.shadowRoot.getElementById("letter-anim-hide").beginElement(),this.shadowRoot.getElementById("core-anim-shrink").beginElement(),this.shadowRoot.getElementById("rays-anim-rotate").beginElement(),this.shadowRoot.getElementById("rays-anim-show").beginElement()}animateThemeButtonIconToAuto(){this.shadowRoot.getElementById("eclipse-anim-go").beginElement(),this.shadowRoot.getElementById("letter-anim-show").beginElement()}animateThemeButtonIconToDark(){this.shadowRoot.getElementById("rays-anim-hide").beginElement(),this.shadowRoot.getElementById("core-anim-enlarge").beginElement(),this.shadowRoot.getElementById("eclipse-anim-come").beginElement()}};let ThemeSwitchElement=a;function generateIcon(e,t,n,i){return`\n<button id="theme-switch">\n\t<svg viewBox="0 0 24 24" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">\n\t\t<defs>\n\t\t\t<mask id="mask">\n\t\t\t\t<rect width="100%" height="100%" fill="#fff" />\n\t\t\t\t<circle id="eclipse" r="10" cx="${n}" cy="6">\n\t\t\t\t\t<animate id="eclipse-anim-come" fill="freeze" attributeName="cx" to="20" dur="300ms" begin="indefinite" calcMode="spline" keyTimes="0; 1" keySplines="0.37, 0, 0.63, 1" />\n\t\t\t\t\t<animate id="eclipse-anim-go" fill="freeze" attributeName="cx" to="33" dur="300ms" begin="indefinite" calcMode="spline" keyTimes="0; 1" keySplines="0.37, 0, 0.63, 1" />\n\t\t\t\t</circle>\n\t\t\t\t<g id="letter" fill="none" stroke="#000" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" stroke-dasharray="1 1" stroke-dashoffset="${i}">\n\t\t\t\t\t<path pathLength="1" d="m 8,16.5 4,-9 4,9" />\n\t\t\t\t\t<path pathLength="1" d="M 8,16.5 9,14.5 h 6" />\n\t\t\t\t\t<animate id="letter-anim-show" fill="freeze" attributeName="stroke-dashoffset" to="0" dur="400ms" begin="indefinite" calcMode="spline" keyTimes="0; 1" keySplines=".67,.27,.55,.9" />\n\t\t\t\t\t<animate id="letter-anim-hide" fill="freeze" attributeName="stroke-dashoffset" to="1" dur="15ms" begin="indefinite" calcMode="spline" keyTimes="0; 1" keySplines="0.37, 0, 0.63, 1" />\n\t\t\t\t</g>\n\t\t\t</mask>\n\t\t</defs>\n\t\t<g id="visible-content" mask="url(#mask)">\n\t\t\t<g id="rays" opacity="${t}" fill="none" stroke="#000" stroke-width="2" stroke-linecap="round">\n\t\t\t\t<animate id="rays-anim-hide" fill="freeze" attributeName="opacity" to="0" dur="100ms" begin="indefinite" calcMode="spline" keyTimes="0; 1" keySplines="0.37, 0, 0.63, 1" />\n\t\t\t\t<animate id="rays-anim-show" fill="freeze" attributeName="opacity" to="1" dur="300ms" begin="indefinite" calcMode="spline" keyTimes="0; 1" keySplines="0.37, 0, 0.63, 1" />\n\t\t\t\t<animateTransform id="rays-anim-rotate" attributeName="transform" attributeType="XML" type="rotate" from="-25 12 12" to="0 12 12" dur="300ms" begin="indefinite" calcMode="spline" keyTimes="0; 1" keySplines="0.37, 0, 0.63, 1" />\n\t\t\t\t<path d="m12 1v3" />\n\t\t\t\t<path d="m23 12h-3" />\n\t\t\t\t<path d="m19.778 4.2218-2.121 2.1213" />\n\t\t\t\t<path d="m19.778 19.778-2.121-2.121" />\n\t\t\t\t<path d="m4.222 19.778 2.121-2.121" />\n\t\t\t\t<path d="m4.222 4.222 2.121 2.121" />\n\t\t\t\t<path d="m4 12h-3" />\n\t\t\t\t<path d="m12 20v3" />\n\t\t\t</g>\n\t\t\t<circle id="circle" r="${e}" cx="12" cy="12">\n\t\t\t\t<animate id="core-anim-enlarge" fill="freeze" attributeName="r" to="10" dur="300ms" begin="indefinite" calcMode="spline" keyTimes="0; 1" keySplines="0.37, 0, 0.63, 1" />\n\t\t\t\t<animate id="core-anim-shrink" fill="freeze" attributeName="r" to="5" dur="300ms" begin="indefinite" calcMode="spline" keyTimes="0; 1" keySplines="0.37, 0, 0.63, 1" />\n\t\t\t</circle>\n\t\t</g>\n\t</svg>\n</button>\n`}function generateStyle(){return":host{dislay:flex;width:var(--dummy-variable,20px);aspect-ratio:1/1;cursor:pointer}:host([hidden]){display:none}button{padding:0;border:none;background:0 0;display:flex;cursor:pointer}#circle{fill:var(--text-color,#000)}#rays{stroke:var(--text-color,#000)}"}function updateTheme(){let e=getUserThemeSelection();"auto"===e&&(e=getSystemTheme()),document.documentElement.setAttribute("data-theme",e),updateThemeColor(e)}function updateThemeColor(e){let t=document.getElementById("theme-color-meta");t||(t=document.createElement("meta"),t.setAttribute("name","theme-color"),t.setAttribute("id","theme-color-meta"),document.head.appendChild(t)),t.setAttribute("content","dark"===e?"#181b21":"#e6ebf4")}function getUserThemeSelection(){const e=localStorage.getItem("theme");return THEME_VALUES.includes(e)?e:"auto"}function getSystemTheme(){return window.matchMedia(COLOR_SCHEME_DARK).matches?"dark":"light"}function getInitialStateForIcon(){const e=getUserThemeSelection();return"auto"===e?ICON_INITIAL_STATE_FOR_AUTO:"dark"===e?ICON_INITIAL_STATE_FOR_DARK:ICON_INITIAL_STATE_FOR_LIGHT}n(ThemeSwitchElement,"counter",0),updateTheme(),window.customElements.define(ELEMENT_NAME,ThemeSwitchElement),window.matchMedia(COLOR_SCHEME_DARK).addEventListener("change",updateTheme);